import{d as e,e as a,eB as l,A as t,r as s,f as i,o,c,h as p,i as r,$ as n,a0 as g,N as u,g as m,y as v,F as _,v as d,q as f}from"./index-6fa42e55.js";import{a as w}from"./index.es-e9cd8eb5.js";const h={class:"images-view"},x=["src"],j={class:"foot"},b=["onClick"],y=["src"],C=["src"],Y=f(e({__name:"index",props:{list:{default:()=>[{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i3/2679012998/O1CN01EdWirH1Y18D5EEr8x_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN01vEwGAd1Y18APGtwTH_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i3/2679012998/O1CN01EdWirH1Y18D5EEr8x_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN01vEwGAd1Y18APGtwTH_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"}]},zoom:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1}},setup(e){const f=e,Y=a(null),{width:k}=l(Y),N=t((()=>Math.floor(k.value/110))),H=a(0),O=a(0),Q=t((()=>Math.floor((f.list.length-1)/N.value))),z=a(!1),A=()=>{O.value!==Math.floor(H.value/N.value)&&(O.value=Math.floor(H.value/N.value))};f.autoplay&&!f.zoom&&setInterval((()=>{H.value<f.list.length-1?H.value++:H.value==f.list.length-1&&(H.value=0),A()}),2e3);const I=e=>{e.stopPropagation(),H.value>0&&H.value--,A()},E=e=>{e.stopPropagation(),H.value<f.list.length-1&&H.value++,A()},G=()=>{O.value>0&&O.value--},R=()=>{O.value<Q.value&&O.value++},M=()=>{f.list.length&&!f.zoom&&w({options:{initialViewIndex:H.value},images:f.list.map((e=>e.src))})},T=s({left:"0",top:"0"}),D=s({left:"0",top:"0"}),q=a(null),{top:B,left:K,width:P,height:V}=l(q),W=a(null),{width:Z,height:F}=l(W),S=a(null),{width:X,height:$}=l(S),J=t((()=>X.value/Z.value)),L=e=>{const a=Z.value/2,l=F.value/2,t=P.value-a,s=V.value-l;let i=e.pageX-K.value,o=e.pageY-B.value;i<a&&(i=a),i>t&&(i=t),o<l&&(o=l),o>s&&(o=s),T.left=i-a+"px",T.top=o-l+"px",D.left=-(i-a)*J.value+"px",D.top=-(o-l)*J.value+"px"};return(e,a)=>{const l=i("icon-left"),t=i("icon-right");return o(),c("div",h,[p("section",{class:"image",ref_key:"ImageViewRef",ref:q,onMouseenter:a[0]||(a[0]=e=>z.value=!0),onMouseleave:a[1]||(a[1]=e=>z.value=!1),onMousemove:L,onClick:M},[(o(),c("img",{class:"animate__animated animate__fadeIn",src:e.list[r(H)].src,key:r(H)},null,8,x)),n(p("div",{ref_key:"ZoomARef",ref:W,class:"zoom-a",style:u({left:r(T).left,top:r(T).top})},null,4),[[g,f.zoom&&r(z)]]),n(p("div",{class:"prev",onClick:I},[m(l,{size:20})],512),[[g,!f.zoom]]),n(p("div",{class:"next",onClick:E},[m(t,{size:20})],512),[[g,!f.zoom]])],544),p("section",j,[p("div",{class:v(["left",{disabled:0===r(O)}]),onClick:G},[m(l)],2),p("div",{class:"scroll-box",ref_key:"ScrollBoxRef",ref:Y},[p("ul",{class:"list",style:u({left:-440*r(O)+"px"})},[(o(!0),c(_,null,d(e.list,((e,a)=>(o(),c("li",{class:v(["list-item",{active:r(H)===a}]),key:a,onClick:e=>(e=>{H.value=e,A()})(a)},[p("img",{src:e.src,alt:""},null,8,y)],10,b)))),128))],4)],512),p("div",{class:v(["right",{disabled:r(O)===r(Q)}]),onClick:R},[m(t)],2)]),n(p("div",{ref_key:"ZoomBRef",ref:S,class:"zoom-b animate__animated animate__fadeIn",style:u({left:r(P)+10+"px"})},[p("img",{src:e.list[r(H)].src,style:u({left:r(D).left,top:r(D).top,width:r(P)*r(J)+"px"})},null,12,C)],4),[[g,f.zoom&&r(z)]])])}}}),[["__scopeId","data-v-46937adc"]]);export{Y as default};
