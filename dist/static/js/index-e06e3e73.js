import{d as e,r as a,e as t,f as l,o as i,c as n,g as o,w as s,i as d,l as r,y as u,t as c,R as p,j as _,h as m,M as f}from"./index-e7b4405a.js";import{u as y}from"./useTable-ba0ebea2.js";import{e as g,f as k}from"./dict-9bc7f19d.js";import{_ as v}from"./AddDictModal.vue_vue_type_script_setup_true_lang-2d8a2269.js";import{_ as h}from"./index.vue_vue_type_script_setup_true_lang-8ac25b52.js";import"./usePagination-9d7846a2.js";import"./regexp-2217f7b7.js";import"./useForm-d27cc9da.js";import"./AddDictDataModal.vue_vue_type_script_setup_true_lang-0bf3df96.js";const w={class:"gi_page dict-manage"},x=m("span",null,"查询",-1),j=m("span",null,"重置",-1),C=m("span",null,"新增",-1),D=m("span",null,"删除",-1),b=m("span",null,"字典数据",-1),A=m("span",null,"编辑",-1),M=m("span",null,"删除",-1),S=e({name:"SystemRole",__name:"index",setup(e){const m=a(),S=a(),V=t({name:"",status:""}),{loading:z,tableData:R,pagination:B,selectedKeys:O,search:T,select:U,selectAll:E,handleDelete:F}=y((e=>g({current:e.page,pageSize:e.size})),{immediate:!0}),I=()=>{V.status="",V.status="",T()},K=()=>{if(!O.value.length)return f.warning("请选择字典！");F((()=>k({ids:O.value})))},L=()=>{var e;null==(e=m.value)||e.add()};return(e,a)=>{const t=l("icon-search"),f=l("a-input"),y=l("a-option"),g=l("a-select"),N=l("a-button"),P=l("icon-refresh"),W=l("a-space"),q=l("icon-plus"),G=l("icon-delete"),H=l("a-row"),J=l("a-table-column"),Q=l("a-tag"),X=l("icon-storage"),Y=l("icon-edit"),Z=l("a-popconfirm"),$=l("a-table"),ee=l("a-card");return i(),n("div",w,[o(ee,{title:"字典管理"},{default:s((()=>[o(W,{wrap:""},{default:s((()=>[o(f,{modelValue:d(V).name,"onUpdate:modelValue":a[0]||(a[0]=e=>d(V).name=e),placeholder:"字典类型名称/编码","allow-clear":"",style:{width:"250px"}},{prefix:s((()=>[o(t)])),_:1},8,["modelValue"]),o(g,{modelValue:d(V).status,"onUpdate:modelValue":a[1]||(a[1]=e=>d(V).status=e),placeholder:"状态","allow-clear":"",style:{width:"120px"}},{default:s((()=>[o(y,{value:1},{default:s((()=>[r("正常")])),_:1}),o(y,{value:0},{default:s((()=>[r("禁用")])),_:1})])),_:1},8,["modelValue"]),o(N,{type:"primary",onClick:d(T)},{icon:s((()=>[o(t)])),default:s((()=>[x])),_:1},8,["onClick"]),o(N,{onClick:I},{icon:s((()=>[o(P)])),default:s((()=>[j])),_:1})])),_:1}),o(H,null,{default:s((()=>[o(W,{wrap:""},{default:s((()=>[o(N,{type:"primary",onClick:L},{icon:s((()=>[o(q)])),default:s((()=>[C])),_:1}),o(N,{type:"primary",status:"danger",onClick:K},{icon:s((()=>[o(G)])),default:s((()=>[D])),_:1})])),_:1})])),_:1}),o($,{style:{"margin-top":"6px"},"row-key":"id",data:d(R),bordered:{cell:!0},loading:d(z),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:d(B),"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":d(O),onSelect:d(U),onSelectAll:d(E)},{columns:s((()=>[o(J,{title:"序号",width:64},{cell:s((e=>[r(u(e.rowIndex+1),1)])),_:1}),o(J,{title:"字典名称","data-index":"name"}),o(J,{title:"字典编码","data-index":"code"}),o(J,{title:"状态",width:100,align:"center"},{cell:s((({record:e})=>[1==e.status?(i(),c(Q,{key:0,color:"green"},{default:s((()=>[r("正常")])),_:1})):p("",!0),0==e.status?(i(),c(Q,{key:1,color:"red"},{default:s((()=>[r("禁用")])),_:1})):p("",!0)])),_:1}),o(J,{title:"描述","data-index":"description"}),o(J,{title:"创建时间","data-index":"createTime",width:180}),o(J,{title:"操作",width:280,align:"center",fixed:d(_)()?void 0:"right"},{cell:s((({record:e})=>[o(W,null,{default:s((()=>[o(N,{type:"primary",status:"success",size:"mini",onClick:a=>{return t=e,void(null==(l=S.value)||l.open({code:t.code}));var t,l}},{icon:s((()=>[o(X)])),default:s((()=>[b])),_:2},1032,["onClick"]),o(N,{type:"primary",size:"mini",onClick:a=>{return t=e,void(null==(l=m.value)||l.edit(t.id));var t,l}},{icon:s((()=>[o(Y)])),default:s((()=>[A])),_:2},1032,["onClick"]),o(Z,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:a=>{return t=e,F((()=>k({ids:[t.id]})),{showModal:!1});var t}},{default:s((()=>[o(N,{type:"primary",status:"danger",size:"mini"},{icon:s((()=>[o(G)])),default:s((()=>[M])),_:1})])),_:2},1032,["onBeforeOk"])])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"])])),_:1}),o(v,{ref_key:"AddDictModalRef",ref:m},null,512),o(h,{ref_key:"DictDataModalRef",ref:S},null,512)])}}});export{S as default};
