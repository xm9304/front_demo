import{U as e,V as a,d as t,e as l,f as i,o as s,c as n,g as o,h as r,w as c,i as d,j as u,q as m,v as f,K as p,M as h,s as g,n as v}from"./index-9367cc60.js";import y from"./RightMenu-b118ac1d.js";const _={class:"cate-tree"},k={class:"search-wrap"},w={class:"wrap"},x=v(t({__name:"index",props:{type:{default:1},placeholder:{default:"请输入关键词"}},emits:["node-click"],setup(t,{emit:v}){const x=t,z=l(!1),V=l(),j=l(""),M=l([]),b=()=>{v("node-click")};(async()=>{try{z.value=!0;const t=await e.get(`${a}/cate/tree`);M.value=t.data,p((()=>{V.value.expandAll()}))}catch(t){return t}finally{z.value=!1}})();const R=e=>{"move"!==e&&h.info(e)};return(e,a)=>{const t=i("icon-search"),l=i("a-input"),p=g,h=i("a-trigger"),v=i("a-tree"),z=i("a-scrollbar");return s(),n("div",_,[o("div",k,[r(l,{"allow-clear":"",maxlength:20,placeholder:x.placeholder,modelValue:d(j),"onUpdate:modelValue":a[0]||(a[0]=e=>u(j)?j.value=e:null)},{prefix:c((()=>[r(t)])),_:1},8,["placeholder","modelValue"])]),o("div",w,[r(z,{style:{height:"100%",overflow:"auto"},"outer-style":"height: 100%"},{default:c((()=>[r(v,{ref_key:"treeRef",ref:V,"show-line":"",size:"mini",data:d(M),fieldNames:{key:"id"},onSelect:b},{icon:c((e=>[e.children?e.children?(s(),m(p,{key:1,name:"com-file-open",size:16})):(s(),m(p,{key:2,name:"com-file",size:16})):(s(),m(p,{key:0,name:"com-file-close",size:16}))])),title:c((e=>[r(h,{trigger:"contextMenu","align-point":"","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"",position:"bl","update-at-scroll":""},{content:c((()=>[r(y,{"tree-data":d(M),onClick:R},null,8,["tree-data"])])),default:c((()=>[o("div",null,f(e.name),1)])),_:2},1024)])),_:1},8,["data"])])),_:1})])])}}}),[["__scopeId","data-v-1f9f52ee"]]);export{x as default};
