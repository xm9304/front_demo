import{d as e,f as a,o as t,t as l,w as i,g as o,c as n,F as s,x as d,l as r,y as p,R as u,e as c,r as m,i as _,k as f,h as y,Z as g,s as b}from"./index-f2e976d2.js";import{_ as x}from"./GiForm.vue_vue_type_script_setup_true_lang-129b346e.js";import{u as h}from"./usePagination-d0044bb3.js";import{g as v}from"./index-fa79aa78.js";const w=e({name:"GiOverFlowTags",__name:"index",props:{data:{default:()=>[]}},setup:e=>(e,c)=>{const m=a("a-tag"),_=a("a-space"),f=a("a-popover"),y=a("a-overflow-list");return e.data.length?(t(),l(y,{key:0},{overflow:i((({number:a})=>[o(f,{"content-style":{maxWidth:"300px",padding:"8px 12px"}},{content:i((()=>[o(_,{wrap:""},{default:i((()=>[(t(!0),n(s,null,d(e.data.filter(((t,l)=>l>=e.data.length-a)),(e=>(t(),l(m,{key:e,color:"orange",size:"small"},{default:i((()=>[r(p(e),1)])),_:2},1024)))),128))])),_:2},1024)])),default:i((()=>[o(m,{color:"green",size:"small"},{default:i((()=>[r("+"+p(a),1)])),_:2},1024)])),_:2},1024)])),default:i((()=>[(t(!0),n(s,null,d(e.data,((e,a)=>(t(),l(m,{key:a,color:"orange",size:"small"},{default:i((()=>[r(p(e),1)])),_:2},1024)))),128))])),_:1})):u("",!0)}}),z={class:"table-page"},k={class:"gi_table_box"},T=b(e({name:"TableBase",__name:"index",setup(e){const s=c({}),d={xs:24,sm:12,md:12,lg:8,xl:8,xxl:6},u=c({form:{layout:"inline"},btns:{col:d},fold:{enable:!0,index:2},columns:[{type:"input",label:"姓名",field:"name",col:d},{type:"input",label:"手机",field:"phone",col:d,props:{maxLength:11}},{type:"select",label:"类型",field:"type",col:d,options:[{label:"党员",value:1},{label:"群众",value:2}]},{type:"date-picker",label:"创建日期",field:"createTime",col:d},{type:"input",label:"地址",field:"address",col:d}]}),b=m(!1),T=m([]),{pagination:j,setTotal:F}=h((()=>S())),S=async()=>{try{b.value=!0;const e=await v({current:j.current,pageSize:j.pageSize});T.value=e.data.records,F(e.data.total)}finally{b.value=!1}};S();const V=()=>{j.current=1,S()};return(e,d)=>{const c=x,m=a("a-table-column"),h=a("a-avatar"),v=w,F=a("a-typography-text"),S=a("a-button"),G=a("a-popconfirm"),I=a("a-space"),O=a("a-table");return t(),n("div",z,[o(c,{options:_(u),modelValue:_(s),"onUpdate:modelValue":d[0]||(d[0]=e=>f(s)?s.value=e:null),onSearch:V},null,8,["options","modelValue"]),y("div",k,[o(O,{"row-key":"id",size:"small","page-position":"bottom",bordered:{cell:!0},loading:_(b),data:_(T),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:_(j)},{columns:i((()=>[o(m,{title:"序号",width:66,align:"center"},{cell:i((e=>[r(p(e.rowIndex+1),1)])),_:1}),o(m,{title:"姓名","data-index":"name",width:120}),o(m,{title:"头像",width:80},{cell:i((({record:e})=>[o(h,{size:30,style:g({backgroundColor:e.color})},{default:i((()=>[r(p(e.name[0]),1)])),_:2},1032,["style"])])),_:1}),o(m,{title:"手机号","data-index":"phone",width:150}),o(m,{title:"爱好","data-index":"hobbys"},{cell:i((({record:e})=>[o(v,{data:e.hobbys},null,8,["data"])])),_:1}),o(m,{title:"创建时间","data-index":"createTime",ellipsis:"",tooltip:""}),o(m,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),o(m,{title:"状态",width:100,align:"center"},{cell:i((({record:e})=>[e.status?(t(),l(F,{key:0,type:"success"},{default:i((()=>[r("开启")])),_:1})):(t(),l(F,{key:1,type:"danger"},{default:i((()=>[r("关闭")])),_:1}))])),_:1}),o(m,{title:"操作",width:200,align:"center"},{cell:i((()=>[o(I,null,{default:i((()=>[o(S,{type:"primary",size:"mini"},{default:i((()=>[r("编辑")])),_:1}),o(S,{size:"mini"},{default:i((()=>[r("详情")])),_:1}),o(G,{type:"warning",content:"您确定要删除该项吗?"},{default:i((()=>[o(S,{type:"primary",status:"danger",size:"mini"},{default:i((()=>[r("删除")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["loading","data","pagination"])])])}}}),[["__scopeId","data-v-68ae3ddb"]]);export{T as default};
