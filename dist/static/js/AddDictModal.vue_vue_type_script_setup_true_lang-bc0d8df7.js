import{d as e,e as a,B as l,r as t,f as d,o,t as s,w as i,g as u,i as r,k as m,M as n}from"./index-bfc4c7ab.js";import{b as c,c as f}from"./index-d8ff4eaf.js";import{b as p}from"./regexp-2217f7b7.js";const v=e({__name:"AddDictModal",setup(e,{expose:v}){const h=a(),x=a(""),w=l((()=>!!x.value)),b=l((()=>w.value?"编辑字典":"新增字典")),V=a(!1),_=t({name:"",code:"",status:1,description:""}),g={name:[{required:!0,message:"请输入字典名称"}],code:[{required:!0,message:"请输入字典编码"},{match:p,message:"格式不对！只能是英文"}],status:[{required:!0}]},k=()=>{var e;null==(e=h.value)||e.resetFields()};v({add:()=>{x.value="",V.value=!0},edit:async e=>{x.value=e;const a=await c({id:e});Object.assign(_,a.data),V.value=!0}});const y=async()=>{var e;try{if(await(null==(e=h.value)?void 0:e.validate()))return!1;return!!(await f(_)).data&&(n.success("模拟保存成功"),!0)}catch(a){return!1}};return(e,a)=>{const l=d("a-input"),t=d("a-form-item"),n=d("a-textarea"),c=d("a-switch"),f=d("a-form"),p=d("a-modal");return o(),s(p,{visible:r(V),"onUpdate:visible":a[4]||(a[4]=e=>m(V)?V.value=e:null),title:r(b),width:"90%","mask-closable":!1,"modal-style":{maxWidth:"520px"},onBeforeOk:y,onClose:k},{default:i((()=>[u(f,{ref_key:"FormRef",ref:h,model:r(_),rules:g,size:"medium","auto-label-width":""},{default:i((()=>[u(t,{label:"字典名称",field:"name"},{default:i((()=>[u(l,{modelValue:r(_).name,"onUpdate:modelValue":a[0]||(a[0]=e=>r(_).name=e),modelModifiers:{trim:!0},placeholder:"请输入字典名称","allow-clear":"","max-length":10},null,8,["modelValue"])])),_:1}),u(t,{label:"字典编码",field:"code"},{default:i((()=>[u(l,{modelValue:r(_).code,"onUpdate:modelValue":a[1]||(a[1]=e=>r(_).code=e),modelModifiers:{trim:!0},placeholder:"请输入字典编码","allow-clear":"","max-length":10},null,8,["modelValue"])])),_:1}),u(t,{label:"描述",field:"description"},{default:i((()=>[u(n,{modelValue:r(_).description,"onUpdate:modelValue":a[2]||(a[2]=e=>r(_).description=e),modelModifiers:{trim:!0},placeholder:"请填写描述","max-length":200,"show-word-limit":"","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])])),_:1}),u(t,{label:"状态",field:"status"},{default:i((()=>[u(c,{type:"round",modelValue:r(_).status,"onUpdate:modelValue":a[3]||(a[3]=e=>r(_).status=e),"checked-value":1,"unchecked-value":0,"checked-text":"正常","unchecked-text":"禁用"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible","title"])}}});export{v as _};
