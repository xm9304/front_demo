import{d as e,a,b as s,r as l,e as t,f as o,c as r,g as i,w as d,o as n,h as u,i as m,j as c,k as p,l as g,M as f,_,p as v,m as w,n as y,q as x}from"./index-8021afb3.js";import{u as h}from"./useLoading-52b3541f.js";import b from"./index-2d74f18e.js";import{P as V}from"./regexp-53006fbc.js";import"./CornerTop.vue_vue_type_script_setup_true_lang-d59c70f3.js";import"./CornerBottom.vue_vue_type_script_setup_true_lang-6a02583c.js";const j=e=>(v("data-v-4d3bb58e"),e=e(),w(),e),k={class:"login"},z=j((()=>u("div",{class:"login-left"},[u("img",{class:"login-img",src:"/gi-demo/static/svg/login-img-1c12ae60.svg"})],-1))),q={class:"login-right"},C=j((()=>u("h3",{class:"login-form-title"},[u("img",{class:"logo",src:y}),u("span",null,"Admin Pro")],-1))),L=x(e({name:"Login",__name:"index",setup(e){const v=a(),w=s(),y=l({username:"admin",password:"123456"}),x={username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{match:V,message:"输入密码格式不正确"}]},j=t(!1),{loading:L,setLoading:U}=h(),P=t(""),R=t(),S=async()=>{var e;try{if(await(null==(e=R.value)?void 0:e.validate()))return;U(!0),await w.login(y);const{redirect:a,...s}=v.currentRoute.value.query;v.push({path:a||"/",query:{...s}}),f.success("登录成功")}catch(a){P.value=a.message}finally{U(!1)}};return(e,a)=>{const s=o("a-col"),l=o("icon-user"),t=o("a-input"),f=o("a-form-item"),v=o("icon-lock"),w=o("a-input-password"),h=o("a-checkbox"),V=o("a-link"),U=o("a-row"),P=o("a-button"),A=o("a-space"),B=o("a-form"),F=_;return n(),r("div",k,[i(U,{align:"stretch",class:"login-box"},{default:d((()=>[i(s,{xs:0,sm:12,md:15},{default:d((()=>[z])),_:1}),i(s,{xs:24,sm:12,md:9},{default:d((()=>[u("div",q,[i(B,{ref_key:"FormRef",ref:R,size:m(c)()?"large":"medium",model:m(y),rules:x,style:{width:"84%"},"label-col-style":{display:"none"},"wrapper-col-style":{flex:1}},{default:d((()=>[C,i(f,{field:"username"},{default:d((()=>[i(t,{modelValue:m(y).username,"onUpdate:modelValue":a[0]||(a[0]=e=>m(y).username=e),placeholder:"账号 admin/user","allow-clear":""},{prefix:d((()=>[i(l,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),i(f,{field:"password"},{default:d((()=>[i(w,{modelValue:m(y).password,"onUpdate:modelValue":a[1]||(a[1]=e=>m(y).password=e),placeholder:"密码","allow-clear":""},{prefix:d((()=>[i(v,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),i(f,null,{default:d((()=>[i(U,{justify:"space-between",align:"center",class:"w-100"},{default:d((()=>[i(h,{modelValue:m(j),"onUpdate:modelValue":a[2]||(a[2]=e=>p(j)?j.value=e:null)},{default:d((()=>[g("记住密码")])),_:1},8,["modelValue"]),i(V,null,{default:d((()=>[g("忘记密码")])),_:1})])),_:1})])),_:1}),i(f,null,{default:d((()=>[i(A,{direction:"vertical",fill:"",class:"w-100"},{default:d((()=>[i(P,{type:"primary",size:"large",long:"",loading:m(L),onClick:S},{default:d((()=>[g("登录")])),_:1},8,["loading"]),i(P,{type:"text",size:"large",long:"",class:"register-btn"},{default:d((()=>[g("注册账号")])),_:1})])),_:1})])),_:1})])),_:1},8,["size","model"])])])),_:1})])),_:1}),i(F,{class:"theme-btn"}),i(b)])}}}),[["__scopeId","data-v-4d3bb58e"]]);export{L as default};
