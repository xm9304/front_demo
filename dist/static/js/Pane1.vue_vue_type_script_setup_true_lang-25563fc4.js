import{d as e,a,r as t,e as l,Q as i,f as n,o,c as s,i as r,R as d,q as c,w as u,h as p,N as m,g as f,k as _,F as g,t as y,v,S as h,M as k}from"./index-ed1c2c55.js";import{u as w}from"./usePagination-0778e864.js";import x from"./index-c5b32ac8.js";import b from"./EditModal-101e0dc9.js";import{g as C}from"./index-99e1c046.js";import{S as j}from"./person-ff3306fc.js";const z={class:"data-pane"},S={class:"content"},V={class:"gi_table_box"},M=e({__name:"Pane1",setup(e){const M=a(),{pagination:O,setTotal:q}=w((()=>N())),A=t({name:"",status:""}),E=l([]),I=l(!1),N=async()=>{try{I.value=!0;const e=await C({...A,current:O.current,pageSize:O.pageSize});E.value=e.data.list,q(e.data.total)}catch(e){}finally{I.value=!1}};i((()=>{N()}));const P=()=>{h.warning({title:"提示",content:"是否确认删除？",hideCancel:!1,onOk:()=>{E.value=[]}})},R=l(),T=()=>{var e;null==(e=R.value)||e.add()},U=()=>{if(!F.value.length)return k.warning("请勾选数据");k.success("点击了导出")},F=l([]),H=e=>{F.value=e},J=e=>{F.value=e?E.value.map((e=>e.id)):[]};return(e,a)=>{const t=n("a-card"),l=n("icon-plus"),i=n("a-button"),h=n("icon-delete"),w=n("icon-export"),C=n("a-space"),q=n("a-option"),F=n("a-select"),Q=n("a-input"),W=n("icon-search"),B=n("a-input-group"),D=n("icon-refresh"),G=n("a-row"),K=n("a-table-column"),L=n("a-progress"),X=n("a-tag"),Y=n("a-popconfirm"),Z=n("a-table");return o(),s("div",z,[r(d).browse().isMobile?m("",!0):(o(),c(t,{key:0,title:"数据分类",bordered:!1,class:"gi_card pane-left"},{default:u((()=>[p(x,{placeholder:"请输入搜索关键词",onNodeClick:a[0]||(a[0]=e=>r(O).onChange(1))})])),_:1})),p(t,{title:"数据列表",bordered:!1,"header-style":{display:"none"},class:"gi_card pane-right"},{default:u((()=>[f("div",S,[p(G,{justify:"space-between",style:{"margin-bottom":"12px"}},{default:u((()=>[p(C,null,{default:u((()=>[p(i,{type:"primary",onClick:T},{icon:u((()=>[p(l)])),_:1}),p(i,{type:"primary",status:"danger",onClick:P},{icon:u((()=>[p(h)])),default:u((()=>[_("删除")])),_:1}),p(i,{type:"primary",status:"success",onClick:U},{icon:u((()=>[p(w)])),_:1})])),_:1}),p(C,null,{default:u((()=>[p(F,{modelValue:r(A).status,"onUpdate:modelValue":a[1]||(a[1]=e=>r(A).status=e),class:"gi_select_input",placeholder:"请选择","allow-clear":""},{default:u((()=>[(o(!0),s(g,null,y(r(j),(e=>(o(),c(q,{key:e.value,value:e.value},{default:u((()=>[_(v(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),p(B,null,{default:u((()=>[p(Q,{modelValue:r(A).name,"onUpdate:modelValue":a[2]||(a[2]=e=>r(A).name=e),placeholder:"请输入搜索关键词","allow-clear":""},null,8,["modelValue"]),p(i,{type:"primary",onClick:N},{default:u((()=>[p(W)])),_:1})])),_:1}),p(i,{type:"primary",onClick:N},{icon:u((()=>[p(D)])),_:1})])),_:1})])),_:1}),f("section",V,[p(Z,{"row-key":"id",size:"small",loading:r(I),bordered:{cell:!0},data:r(E),scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:r(O),onSelect:H,onSelectAll:J},{columns:u((()=>[p(K,{title:"序号",width:68},{cell:u((e=>[_(v(e.rowIndex+1),1)])),_:1}),p(K,{title:"姓名","data-index":"name"}),p(K,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),p(K,{title:"比例",width:200},{cell:u((({record:e})=>{return[p(L,{status:(a=e.proportion,a<30?"danger":a<60?"warning":"success"),percent:e.proportion/100},null,8,["status","percent"])];var a})),_:1}),p(K,{title:"状态",width:100,align:"center"},{cell:u((({record:e})=>[(o(!0),s(g,null,y(r(j),(a=>(o(),s(g,{key:a.value},[a.value===e.status?(o(),c(X,{key:0,size:"small",color:a.color},{default:u((()=>[_(v(a.name),1)])),_:2},1032,["color"])):m("",!0)],64)))),128))])),_:1}),p(K,{title:"创建时间","data-index":"createTime",width:180}),p(K,{title:"操作",width:200,align:"center",fixed:"right"},{cell:u((({record:e})=>[p(C,null,{default:u((()=>[p(i,{type:"primary",size:"mini",onClick:a=>{return t=e,void(null==(l=R.value)||l.edit(t.id));var t,l}},{default:u((()=>[_("修改")])),_:2},1032,["onClick"]),p(i,{size:"mini",onClick:a=>{return t=e,void M.push({path:"/data/detail",query:{id:t.id}});var t}},{default:u((()=>[_("详情")])),_:2},1032,["onClick"]),p(Y,{type:"warning",content:"您确定要删除该项吗?",onOk:a=>(e.id,k.success("删除成功"),void N())},{default:u((()=>[p(i,{type:"primary",status:"danger",size:"mini"},{default:u((()=>[_("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:1})])),_:1},8,["loading","data","pagination"])])])])),_:1}),p(b,{ref_key:"EditModalRef",ref:R},null,512)])}}});export{M as _};
