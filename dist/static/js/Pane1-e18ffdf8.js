import{d as e,a,e as l,Q as t,r as i,f as s,o as n,c as o,g as r,w as d,i as c,h as u,l as p,F as m,x as f,t as g,y as _,R as h,j as y,M as x,s as v}from"./index-2db52125.js";import{u as k}from"./useTable-8dee650c.js";import w from"./index-19695da4.js";import C from"./EditModal-aedf2edc.js";import{g as b,d as j}from"./index-b66d96f4.js";import{S as z}from"./person-ff3306fc.js";import"./usePagination-7054994b.js";import"./RightMenu-f9934777.js";import"./regexp-2217f7b7.js";import"./useForm-0c10f8b9.js";const M={class:"page"},S={class:"content"},V={class:"gi_table_box"},A=v(e({__name:"Pane1",setup(e){const v=a(),A=l({name:"",status:""}),{loading:E,tableData:R,getTableData:T,pagination:D,selectedKeys:O,select:P,selectAll:B,handleDelete:F}=k((e=>b({...A,current:e.page,pageSize:e.size})),{immediate:!1,formatResult:e=>e.map((e=>({...e,isEdit:!1})))});t((()=>{T()}));const I=i(),N=()=>{var e;null==(e=I.value)||e.add()},U=()=>{if(!O.value.length)return x.warning("请选择删除项！");F((()=>j({ids:O.value})),{successTip:"批量删除成功！"})},q=()=>{if(!O.value.length)return x.warning("请勾选数据");x.success("点击了导出")};return(e,a)=>{const l=s("a-card"),t=s("a-col"),i=s("icon-plus"),x=s("a-button"),k=s("icon-delete"),b=s("icon-export"),K=s("a-space"),L=s("a-option"),Q=s("a-select"),W=s("a-input"),$=s("icon-search"),G=s("a-input-group"),H=s("icon-refresh"),J=s("a-row"),X=s("a-table-column"),Y=s("a-progress"),Z=s("a-tag"),ee=s("a-popconfirm"),ae=s("a-table");return n(),o("div",M,[r(J,{align:"stretch",gutter:14,class:"pane"},{default:d((()=>[r(t,{xs:0,sm:8,md:7,lg:6,xl:5,xxl:4,flex:"260px",class:"h-full ov-hidden"},{default:d((()=>[r(l,{title:"数据分类",bordered:!1,class:"gi_card pane-item pane-left"},{default:d((()=>[r(w,{placeholder:"请输入搜索关键词",onNodeClick:a[0]||(a[0]=e=>c(D).onChange(1))})])),_:1})])),_:1}),r(t,{xs:24,sm:16,md:17,lg:18,xl:19,xxl:20,flex:"1",class:"h-full ov-hidden"},{default:d((()=>[r(l,{title:"数据列表",bordered:!1,"header-style":{display:"none"},class:"gi_card pane-item pane-right"},{default:d((()=>[u("div",S,[r(J,{justify:"space-between"},{default:d((()=>[r(K,{wrap:""},{default:d((()=>[r(x,{type:"primary",onClick:N},{icon:d((()=>[r(i)])),_:1}),r(x,{type:"primary",status:"danger",onClick:U},{icon:d((()=>[r(k)])),default:d((()=>[p("删除")])),_:1}),r(x,{type:"primary",status:"success",onClick:q},{icon:d((()=>[r(b)])),_:1})])),_:1}),r(K,{wrap:""},{default:d((()=>[r(Q,{modelValue:c(A).status,"onUpdate:modelValue":a[1]||(a[1]=e=>c(A).status=e),class:"gi_select_input",placeholder:"请选择","allow-clear":""},{default:d((()=>[(n(!0),o(m,null,f(c(z),(e=>(n(),g(L,{key:e.value,value:e.value},{default:d((()=>[p(_(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),r(G,null,{default:d((()=>[r(W,{modelValue:c(A).name,"onUpdate:modelValue":a[2]||(a[2]=e=>c(A).name=e),placeholder:"请输入搜索关键词","allow-clear":""},null,8,["modelValue"]),r(x,{type:"primary",onClick:c(T)},{default:d((()=>[r($)])),_:1},8,["onClick"])])),_:1}),r(x,{type:"primary",onClick:c(T)},{icon:d((()=>[r(H)])),_:1},8,["onClick"])])),_:1})])),_:1}),u("section",V,[r(ae,{"row-key":"id",size:"small",loading:c(E),bordered:{cell:!0},data:c(R),scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:c(D),"selected-keys":c(O),onSelect:c(P),onSelectAll:c(B)},{columns:d((()=>[r(X,{title:"序号",width:68},{cell:d((e=>[p(_(e.rowIndex+1),1)])),_:1}),r(X,{title:"姓名","data-index":"name"}),r(X,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),r(X,{title:"比例",width:200},{cell:d((({record:e})=>{return[r(Y,{status:(a=e.proportion,a<30?"danger":a<60?"warning":"success"),percent:e.proportion/100},null,8,["status","percent"])];var a})),_:1}),r(X,{title:"状态",width:100,align:"center"},{cell:d((({record:e})=>[(n(!0),o(m,null,f(c(z),(a=>(n(),o(m,{key:a.value},[a.value===e.status?(n(),g(Z,{key:0,size:"small",color:a.color},{default:d((()=>[p(_(a.name),1)])),_:2},1032,["color"])):h("",!0)],64)))),128))])),_:1}),r(X,{title:"创建时间","data-index":"createTime",width:180}),r(X,{title:"操作",width:200,align:"center",fixed:c(y)()?void 0:"right"},{cell:d((({record:e})=>[r(K,null,{default:d((()=>[r(x,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=I.value)||t.edit(l.id));var l,t}},{default:d((()=>[p("修改")])),_:2},1032,["onClick"]),r(x,{size:"mini",onClick:a=>{return l=e,void v.push({path:"/data/detail",query:{id:l.id}});var l}},{default:d((()=>[p("详情")])),_:2},1032,["onClick"]),r(ee,{type:"warning",content:"您确定要删除该项吗?",onBeforeOk:a=>{return F((()=>j({ids:[l.id]})),{content:`是否删除-${(l=e).name}?`,showModal:!1});var l}},{default:d((()=>[r(x,{type:"primary",status:"danger",size:"mini"},{default:d((()=>[p("删除")])),_:1})])),_:2},1032,["onBeforeOk"])])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["loading","data","pagination","selected-keys","onSelect","onSelectAll"])])])])),_:1})])),_:1})])),_:1}),r(C,{ref_key:"EditModalRef",ref:I},null,512)])}}}),[["__scopeId","data-v-c87d127a"]]);export{A as default};
