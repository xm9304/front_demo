import{O as e,a}from"./regexp-53006fbc.js";import{r as l,e as n,S as t,h as o,eC as s,f as r,d as m,o as u,q as d,w as p,k as i}from"./index-b0b495b4.js";import{_ as c}from"./AddUserForm.vue_vue_type_script_setup_true_lang-be56aae1.js";const f=()=>{const m=l({name:"",phone:""}),u=n(null),d={name:[{required:!0,message:"请输入姓名"},{match:e,message:"只能是中文姓名"},{minLength:1,maxLength:4,message:"名字最长不超过4个字符"}],phone:[{required:!0,message:"请输入手机号"},{match:a,message:"手机号格式不正确"}]};t.open({title:"添加用户",content:()=>o(s,{model:m,ref:u},{default:()=>[o(s.Item,{field:"name",label:"用户名",rules:d.name},{default:()=>[o(r("a-input"),{modelValue:m.name,"onUpdate:modelValue":e=>m.name=e,placeholder:"请输入用户名","max-length":8,"allow-clear":!0},null)]}),o(s.Item,{field:"phone",label:"手机号",rules:d.phone},{default:()=>[o(r("a-input"),{modelValue:m.phone,"onUpdate:modelValue":e=>m.phone=e,placeholder:"请输入手机号","max-length":11,"allow-clear":!0},null)]})]}),okText:"添加",onBeforeOk:async()=>{var e;return!(await(null==(e=u.value)?void 0:e.validate()))&&(await new Promise((e=>setTimeout((()=>{e(!0)}),2e3))),!0)}})},h=m({__name:"index",setup(e){const a=()=>{f()},l=()=>{const e=n(null);t.open({title:"添加用户",content:()=>o(c,{ref:e},null),okText:"添加",onBeforeOk:async()=>{var a;return await(null==(a=e.value)?void 0:a.handleAddUser())}})};return(e,n)=>{const t=r("a-button"),s=r("a-space");return u(),d(s,{class:"aaa"},{default:p((()=>[o(t,{type:"primary",onClick:a},{default:p((()=>[i("打开添加用户弹窗")])),_:1}),o(t,{type:"primary",onClick:l},{default:p((()=>[i("打开添加用户弹窗(方式2)")])),_:1})])),_:1})}}});export{h as _};
