import{_ as e}from"./index-77725910.js";import{d as a,eT as t,eU as l,e as i,eV as n,f as s,o,c as d,h as r,w as u,Z as c,i as m,j as p,q as _,k as f,g,eW as b,t as y,eX as h,x as v,n as x,eS as k,v as z,L as w,$ as C,M as V,p as j,l as T}from"./index-e9ca0550.js";import{u as U}from"./usePagination-feb355ce.js";import{g as R}from"./index-ee45c292.js";const I={class:"gi_table_box gi_mt"},S=x(a({name:"GiTable",inheritAttrs:!1,__name:"index",emits:["refresh"],setup(e,{expose:a,emit:x}){const k=t(),z=l(),w=i(null),C=i(!1),V=i("small"),j=i(!0),T=i(null),{isFullscreen:U,toggle:R}=n(T),S=()=>{x("refresh")};return a({tableRef:w}),(e,a)=>{const t=s("a-space"),l=s("a-switch"),i=s("a-tooltip"),n=s("icon-refresh"),x=s("a-button"),$=s("icon-fullscreen"),A=s("icon-fullscreen-exit"),P=s("icon-apps"),W=s("a-radio"),q=s("a-radio-group"),D=s("a-row"),F=s("a-table");return o(),d("div",{class:v(["gi-table",{fullscreen:m(U)}]),ref_key:"giTableRef",ref:T},[r(D,{justify:"space-between",align:"center"},{default:u((()=>[r(t,null,{default:u((()=>[c(e.$slots,"custom-extra",{},void 0,!0)])),_:3}),r(t,{size:15},{default:u((()=>[r(i,{content:"斑马纹"},{default:u((()=>[r(l,{modelValue:m(C),"onUpdate:modelValue":a[0]||(a[0]=e=>p(C)?C.value=e:null),size:"small",type:"round"},null,8,["modelValue"])])),_:1}),r(i,{content:"刷新"},{default:u((()=>[r(x,{size:"mini",class:"gi_hover_btn",onClick:S},{icon:u((()=>[r(n,{size:18})])),_:1})])),_:1}),r(i,{content:"全屏"},{default:u((()=>[r(x,{size:"mini",class:"gi_hover_btn",onClick:m(R)},{icon:u((()=>[m(U)?(o(),_(A,{key:1,size:18})):(o(),_($,{key:0,size:18}))])),_:1},8,["onClick"])])),_:1}),r(i,{content:"显示边框"},{default:u((()=>[r(x,{size:"mini",class:"gi_hover_btn",onClick:a[1]||(a[1]=e=>j.value=!m(j))},{icon:u((()=>[r(P,{size:18})])),_:1})])),_:1}),r(q,{type:"button",size:"mini",modelValue:m(V),"onUpdate:modelValue":a[2]||(a[2]=e=>p(V)?V.value=e:null)},{default:u((()=>[r(W,{value:"mini"},{default:u((()=>[f("小")])),_:1}),r(W,{value:"small"},{default:u((()=>[f("默认")])),_:1}),r(W,{value:"medium"},{default:u((()=>[f("中")])),_:1}),r(W,{value:"large"},{default:u((()=>[f("大")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:3}),g("div",I,[r(F,h(m(k),{stripe:m(C),size:m(V),bordered:{cell:m(j)},ref_key:"tableRef",ref:w}),b({_:2},[y(Object.keys(m(z)),(a=>({name:a,fn:u((()=>[c(e.$slots,a,{},void 0,!0)]))})))]),1040,["stripe","size","bordered"])])],2)}}}),[["__scopeId","data-v-a95e60a9"]]),$=e=>(j("data-v-7de21b64"),e=e(),T(),e),A={class:"table-page"},P=$((()=>g("span",null,"新增",-1))),W=$((()=>g("span",null,"删除",-1))),q=$((()=>g("span",null,"导入",-1))),D=x(a({name:"TableCustom",__name:"index",setup(a){const t=i(!1),l=i([]),{pagination:n,setTotal:c}=U((()=>p())),p=async()=>{try{t.value=!0;const e=await R({current:n.current,pageSize:n.pageSize});l.value=e.data.list,c(e.data.total)}catch(e){}finally{t.value=!1}};p();const g=()=>{V.info("点击了新增")},b=()=>{V.info("点击了删除")},y=()=>{V.info("点击了导入")};return(a,i)=>{const c=s("icon-plus"),h=s("a-button"),v=s("icon-delete"),x=s("icon-export"),V=s("a-table-column"),j=s("a-avatar"),T=s("a-switch"),U=s("a-popconfirm"),R=s("a-space"),I=S,$=e,D=k("hasPerm");return o(),d("div",A,[r(I,{"row-key":"id",loading:m(t),data:m(l),scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:m(n),onRefresh:p},{"custom-extra":u((()=>[r(h,{type:"primary",onClick:g},{icon:u((()=>[r(c)])),default:u((()=>[P])),_:1}),r(h,{type:"primary",status:"danger",onClick:b},{icon:u((()=>[r(v)])),default:u((()=>[W])),_:1}),r(h,{onClick:y},{icon:u((()=>[r(x)])),default:u((()=>[q])),_:1})])),columns:u((()=>[r(V,{title:"序号",width:66,align:"center"},{cell:u((e=>[f(z(e.rowIndex+1),1)])),_:1}),r(V,{title:"姓名","data-index":"name",width:120}),r(V,{title:"头像",width:80},{cell:u((({record:e})=>[r(j,{size:30,style:w({backgroundColor:e.color})},{default:u((()=>[f(z(e.name[0]),1)])),_:2},1032,["style"])])),_:1}),r(V,{title:"手机号","data-index":"phone",width:150}),r(V,{title:"创建时间","data-index":"createTime",ellipsis:"",tooltip:""}),r(V,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),r(V,{title:"状态",width:100,align:"center"},{cell:u((({record:e})=>[r(T,{modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,type:"round",size:"medium"},{checked:u((()=>[f("开启")])),unchecked:u((()=>[f("关闭")])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),r(V,{title:"操作",width:200,align:"center"},{cell:u((({record:e})=>[r(R,null,{default:u((()=>[C((o(),_(h,{type:"primary",size:"mini"},{default:u((()=>[f("修改")])),_:1})),[[D,["table:btn:edit"]]]),r(h,{size:"mini"},{default:u((()=>[f("详情")])),_:1}),r(U,{type:"warning",content:"您确定要删除该项吗?"},{default:u((()=>[r(h,{type:"primary",status:"danger",size:"mini"},{default:u((()=>[f("删除")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["loading","data","pagination"]),r($)])}}}),[["__scopeId","data-v-7de21b64"]]);export{D as default};
