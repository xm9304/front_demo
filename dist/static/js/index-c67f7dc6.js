import{_ as e}from"./index-f6fe8ea6.js";import{d as a,e_ as t,e$ as l,e as i,f as n,o as s,c as o,g as d,w as r,a2 as c,i as u,k as p,t as m,l as f,h as _,f0 as g,x as y,eU as h,z as b,s as v,y as x,O as z,M as w,p as k,n as V}from"./index-3b3a8da7.js";import{u as C}from"./usePagination-5660b4e1.js";import{g as j}from"./index-46ce9d22.js";const T={class:"table-box"},U=v(a({name:"GiTable",inheritAttrs:!1,__name:"index",emits:["refresh"],setup(e,{expose:a,emit:v}){const x=v,z=t(),w=l(),k=i(null),V=i(!1),C=i("small"),j=i(!0),U=i(!1),R=()=>{x("refresh")};return a({tableRef:k}),(e,a)=>{const t=n("a-space"),l=n("a-switch"),i=n("a-tooltip"),v=n("icon-refresh"),x=n("a-button"),I=n("icon-fullscreen"),O=n("icon-fullscreen-exit"),$=n("icon-apps"),A=n("a-radio"),P=n("a-radio-group"),S=n("a-row"),G=n("a-table");return s(),o("div",{class:b(["gi-table",{fullscreen:u(U)}]),ref:"giTableRef"},[d(S,{justify:"space-between",align:"center"},{default:r((()=>[d(t,{wrap:""},{default:r((()=>[c(e.$slots,"custom-extra",{},void 0,!0)])),_:3}),d(t,{size:15,wrap:""},{default:r((()=>[d(i,{content:"斑马纹"},{default:r((()=>[d(l,{modelValue:u(V),"onUpdate:modelValue":a[0]||(a[0]=e=>p(V)?V.value=e:null),size:"small",type:"round"},null,8,["modelValue"])])),_:1}),d(i,{content:"刷新"},{default:r((()=>[d(x,{size:"mini",class:"gi_hover_btn",onClick:R},{icon:r((()=>[d(v,{size:18})])),_:1})])),_:1}),d(i,{content:"全屏"},{default:r((()=>[d(x,{size:"mini",class:"gi_hover_btn",onClick:a[1]||(a[1]=e=>U.value=!u(U))},{icon:r((()=>[u(U)?(s(),m(O,{key:1,size:18})):(s(),m(I,{key:0,size:18}))])),_:1})])),_:1}),d(i,{content:"显示边框"},{default:r((()=>[d(x,{size:"mini",class:"gi_hover_btn",onClick:a[2]||(a[2]=e=>j.value=!u(j))},{icon:r((()=>[d($,{size:18})])),_:1})])),_:1}),d(P,{type:"button",size:"mini",modelValue:u(C),"onUpdate:modelValue":a[3]||(a[3]=e=>p(C)?C.value=e:null)},{default:r((()=>[d(A,{value:"mini"},{default:r((()=>[f("小")])),_:1}),d(A,{value:"small"},{default:r((()=>[f("默认")])),_:1}),d(A,{value:"medium"},{default:r((()=>[f("中")])),_:1}),d(A,{value:"large"},{default:r((()=>[f("大")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:3}),_("div",T,[d(G,h({stripe:u(V),size:u(C),bordered:{cell:u(j)}},u(z),{ref_key:"tableRef",ref:k}),g({_:2},[y(Object.keys(u(w)),(a=>({name:a,fn:r((()=>[c(e.$slots,a,{},void 0,!0)]))})))]),1040,["stripe","size","bordered"])])],2)}}}),[["__scopeId","data-v-f69925ac"]]),R=e=>(k("data-v-489e21a5"),e=e(),V(),e),I={class:"table-page"},O=R((()=>_("span",null,"新增",-1))),$=R((()=>_("span",null,"删除",-1))),A=R((()=>_("span",null,"导入",-1))),P=v(a({name:"TableCustom",__name:"index",setup(a){const t=i(!1),l=i([]),{pagination:c,setTotal:p}=C((()=>m())),m=async()=>{try{t.value=!0;const e=await j({current:c.current,pageSize:c.pageSize});l.value=e.data.records,p(e.data.total)}catch(e){}finally{t.value=!1}};m();const _=()=>{w.info("点击了新增")},g=()=>{w.info("点击了删除")},y=()=>{w.info("点击了导入")};return(a,i)=>{const p=n("icon-plus"),h=n("a-button"),b=n("icon-delete"),v=n("icon-export"),w=n("a-table-column"),k=n("a-avatar"),V=n("a-switch"),C=n("a-popconfirm"),j=n("a-space"),T=U,R=e;return s(),o("div",I,[d(T,{"row-key":"id",loading:u(t),data:u(l),scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:u(c),onRefresh:m},{"custom-extra":r((()=>[d(h,{type:"primary",onClick:_},{icon:r((()=>[d(p)])),default:r((()=>[O])),_:1}),d(h,{type:"primary",status:"danger",onClick:g},{icon:r((()=>[d(b)])),default:r((()=>[$])),_:1}),d(h,{onClick:y},{icon:r((()=>[d(v)])),default:r((()=>[A])),_:1})])),columns:r((()=>[d(w,{title:"序号",width:66,align:"center"},{cell:r((e=>[f(x(e.rowIndex+1),1)])),_:1}),d(w,{title:"姓名","data-index":"name",width:120}),d(w,{title:"头像",width:80},{cell:r((({record:e})=>[d(k,{size:30,style:z({backgroundColor:e.color})},{default:r((()=>[f(x(e.name[0]),1)])),_:2},1032,["style"])])),_:1}),d(w,{title:"手机号","data-index":"phone",width:150}),d(w,{title:"创建时间","data-index":"createTime",ellipsis:"",tooltip:""}),d(w,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),d(w,{title:"状态",width:100,align:"center"},{cell:r((({record:e})=>[d(V,{modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,type:"round",size:"medium"},{checked:r((()=>[f("开启")])),unchecked:r((()=>[f("关闭")])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),d(w,{title:"操作",width:200,align:"center"},{cell:r((({record:e})=>[d(j,null,{default:r((()=>[d(h,{type:"primary",size:"mini"},{default:r((()=>[f("修改")])),_:1}),d(h,{size:"mini"},{default:r((()=>[f("详情")])),_:1}),d(C,{type:"warning",content:"您确定要删除该项吗?"},{default:r((()=>[d(h,{type:"primary",status:"danger",size:"mini"},{default:r((()=>[f("删除")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["loading","data","pagination"]),d(R)])}}}),[["__scopeId","data-v-489e21a5"]]);export{P as default};
