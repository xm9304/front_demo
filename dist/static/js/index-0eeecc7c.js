import{d as l,r as e,e as a,f as t,eV as d,o,c as n,g as u,w as i,i as s,a0 as r,l as c,a1 as f,s as p,x as m,h as _,N as g,F as x,v as h,O as v,p as b,m as y,q as w}from"./index-8021afb3.js";import{u as z}from"./usePagination-1c27e164.js";import{g as V}from"./index-f3fdb367.js";const k=l=>(b("data-v-bf717099"),l=l(),y(),l),C={class:"table-page"},P={class:"gi_table_box gi_mt"},S=k((()=>_("span",null,"编辑",-1))),U=k((()=>_("span",null,"详情",-1))),j=k((()=>_("span",null,"删除",-1))),T=w(l({name:"TableMain",__name:"index",setup(l){const b=e({value1:"",value2:"",value3:"",value4:"",value5:""}),y=a(!1),w=a([]),k=a(!1),{current:T,pageSize:I,total:W,changeCurrent:q,changePageSize:D,setTotal:E}=z((()=>F())),F=async()=>{try{y.value=!0;const l=await V({current:T.value,pageSize:I.value});w.value=l.data.list,E(l.data.total)}catch(l){}finally{y.value=!1}};return F(),(l,e)=>{const a=t("a-input"),z=t("a-form-item"),V=t("a-col"),E=t("a-option"),M=t("a-select"),N=t("a-date-picker"),O=t("icon-search"),A=t("a-button"),B=t("icon-up"),G=t("icon-down"),H=t("a-space"),J=t("a-row"),K=t("a-form"),L=t("a-table-column"),Q=t("a-avatar"),R=t("a-tag"),X=t("a-popover"),Y=t("a-overflow-list"),Z=t("a-typography-text"),$=t("a-popconfirm"),ll=t("a-table"),el=d("hasPerm");return o(),n("div",C,[u(K,{"label-align":"right","auto-label-width":"",model:s(b),class:"form"},{default:i((()=>[u(J,{gutter:16,wrap:""},{default:i((()=>[u(V,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:i((()=>[u(z,{field:"value1",label:"姓名"},{default:i((()=>[u(a,{modelValue:s(b).value1,"onUpdate:modelValue":e[0]||(e[0]=l=>s(b).value1=l),placeholder:"请输入姓名"},null,8,["modelValue"])])),_:1})])),_:1}),u(V,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:i((()=>[u(z,{field:"value2",label:"手机"},{default:i((()=>[u(a,{modelValue:s(b).value2,"onUpdate:modelValue":e[1]||(e[1]=l=>s(b).value2=l),placeholder:"请输入手机号码"},null,8,["modelValue"])])),_:1})])),_:1}),r(u(V,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:i((()=>[u(z,{field:"value3",label:"类型"},{default:i((()=>[u(M,{placeholder:"请选择"},{default:i((()=>[u(E,null,{default:i((()=>[c("北京")])),_:1}),u(E,null,{default:i((()=>[c("上海")])),_:1}),u(E,null,{default:i((()=>[c("广州")])),_:1})])),_:1})])),_:1})])),_:1},512),[[f,s(k)]]),r(u(V,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:i((()=>[u(z,{field:"value3",label:"时间"},{default:i((()=>[u(N,{"show-time":"",modelValue:s(b).value3,"onUpdate:modelValue":e[2]||(e[2]=l=>s(b).value3=l),placeholder:"请选择创建时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},512),[[f,s(k)]]),r(u(V,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:i((()=>[u(z,{field:"value4",label:"状态"},{default:i((()=>[u(M,{placeholder:"请选择"},{default:i((()=>[u(E,null,{default:i((()=>[c("开启")])),_:1}),u(E,null,{default:i((()=>[c("关闭")])),_:1})])),_:1})])),_:1})])),_:1},512),[[f,s(k)]]),r(u(V,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:i((()=>[u(z,{field:"value5",label:"地址"},{default:i((()=>[u(a,{modelValue:s(b).value5,"onUpdate:modelValue":e[3]||(e[3]=l=>s(b).value5=l),placeholder:"请输入查询地址"},null,8,["modelValue"])])),_:1})])),_:1},512),[[f,s(k)]]),u(V,{xs:12,md:12,lg:8,xl:6,xxl:6},{default:i((()=>[u(H,null,{default:i((()=>[u(A,{type:"primary",onClick:F},{icon:i((()=>[u(O)])),default:i((()=>[c("查询")])),_:1}),u(A,null,{default:i((()=>[c("重置")])),_:1}),u(A,{type:"text",class:"collapsed-btn",onClick:e[4]||(e[4]=l=>k.value=!s(k))},{icon:i((()=>[s(k)?(o(),p(B,{key:0})):(o(),p(G,{key:1}))])),default:i((()=>[c(m(s(k)?"收起":"展开"),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]),_("div",P,[u(ll,{"row-key":"id",size:"small","page-position":"bottom",bordered:{cell:!0},loading:s(y),data:s(w),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:{showPageSize:!0,total:s(W),current:s(T),pageSize:s(I)},onPageChange:s(q),onPageSizeChange:s(D)},{columns:i((()=>[u(L,{title:"序号",width:66,align:"center"},{cell:i((l=>[c(m(l.rowIndex+1),1)])),_:1}),u(L,{title:"姓名","data-index":"name",width:120}),u(L,{title:"头像",width:80},{cell:i((({record:l})=>[u(Q,{size:30,style:g({backgroundColor:l.color})},{default:i((()=>[c(m(l.name[0]),1)])),_:2},1032,["style"])])),_:1}),u(L,{title:"手机号","data-index":"phone",width:150}),u(L,{title:"爱好","data-index":"hobbys"},{cell:i((({record:l})=>[l.hobbys.length?(o(),p(Y,{key:0},{overflow:i((({number:e})=>[u(X,{"content-style":{maxWidth:"300px"}},{content:i((()=>[u(H,{wrap:""},{default:i((()=>[(o(!0),n(x,null,h(l.hobbys.filter(((a,t)=>t>=l.hobbys.length-e)),(l=>(o(),p(R,{color:"orange",size:"small"},{default:i((()=>[_("span",null,m(l),1)])),_:2},1024)))),256))])),_:2},1024)])),default:i((()=>[u(R,{color:"green",size:"small"},{default:i((()=>[c("+"+m(e),1)])),_:2},1024)])),_:2},1024)])),default:i((()=>[(o(!0),n(x,null,h(null==l?void 0:l.hobbys,(l=>(o(),p(R,{key:l,color:"orange",size:"small"},{default:i((()=>[_("span",null,m(l),1)])),_:2},1024)))),128))])),_:2},1024)):v("",!0)])),_:1}),u(L,{title:"创建时间","data-index":"createTime",ellipsis:"",tooltip:""}),u(L,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),u(L,{title:"状态",width:100,align:"center"},{cell:i((({record:l})=>[l.status?(o(),p(Z,{key:0,type:"success"},{default:i((()=>[c("开启")])),_:1})):(o(),p(Z,{key:1,type:"danger"},{default:i((()=>[c("关闭")])),_:1}))])),_:1}),u(L,{title:"操作",width:200,align:"center"},{cell:i((({record:l})=>[u(H,null,{default:i((()=>[r((o(),p(A,{type:"primary",size:"mini"},{default:i((()=>[S])),_:1})),[[el,["table:btn:edit"]]]),u(A,{size:"mini"},{default:i((()=>[U])),_:1}),u($,{type:"warning",content:"您确定要删除该项吗?"},{default:i((()=>[u(A,{type:"primary",status:"danger",size:"mini"},{default:i((()=>[j])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["loading","data","pagination","onPageChange","onPageSizeChange"])])])}}}),[["__scopeId","data-v-bf717099"]]);export{T as default};
