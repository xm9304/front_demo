import{S as e,d as a,r as l,f as t,o as i,c as s,h as n,g as o,w as r,i as c,k as d,t as u,y as m,N as p,M as f,v as h,s as v}from"./index-7473d946.js";import g from"./RightMenu-cafb8075.js";const y={class:"cate-tree"},k={class:"search-wrap"},_={class:"wrap"},w=v(a({__name:"index",props:{type:{default:1},placeholder:{default:"请输入关键词"}},emits:["node-click"],setup(a,{emit:v}){const w=a,x=l(!1),z=l(),M=l(""),V=l([]),b=v,j=()=>{b("node-click")};(async()=>{try{x.value=!0;const a=await e.get("/cate/tree");V.value=a.data,p((()=>{var e;null==(e=z.value)||e.expandAll()}))}catch(a){return a}finally{x.value=!1}})();const N=e=>{"move"!==e&&f.info(e)};return(e,a)=>{const l=t("icon-search"),p=t("a-input"),f=h,v=t("a-trigger"),x=t("a-tree"),b=t("a-scrollbar");return i(),s("div",y,[n("div",k,[o(p,{"allow-clear":"",maxlength:20,placeholder:w.placeholder,modelValue:c(M),"onUpdate:modelValue":a[0]||(a[0]=e=>d(M)?M.value=e:null)},{prefix:r((()=>[o(l)])),_:1},8,["placeholder","modelValue"])]),n("div",_,[o(b,{style:{height:"100%",overflow:"auto"},"outer-style":"height: 100%"},{default:r((()=>[o(x,{ref_key:"treeRef",ref:z,"show-line":"",size:"mini",data:c(V),fieldNames:{key:"id"},onSelect:j},{icon:r((e=>[e.children?e.children?(i(),u(f,{key:1,name:"com-file-open",size:16})):(i(),u(f,{key:2,name:"com-file",size:16})):(i(),u(f,{key:0,name:"com-file-close",size:16}))])),title:r((e=>[o(v,{trigger:"contextMenu","align-point":"","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"",position:"bl","update-at-scroll":""},{content:r((()=>[o(g,{"tree-data":c(V),onClick:N},null,8,["tree-data"])])),default:r((()=>[n("div",null,m(e.name),1)])),_:2},1024)])),_:1},8,["data"])])),_:1})])])}}}),[["__scopeId","data-v-42324538"]]);export{w as default};
