import{d as e,a,b as s,r as l,e as t,f as o,c as r,g as i,w as n,o as d,h as u,i as m,j as c,k as p,M as f,_ as g,p as _,l as v,m as w,n as y}from"./index-b26459cd.js";import{u as x}from"./useLoading-611f4ce4.js";import h from"./index-80abf120.js";import{P as b}from"./regexp-53006fbc.js";import"./CornerTop.vue_vue_type_script_setup_true_lang-343ac60f.js";import"./CornerBottom.vue_vue_type_script_setup_true_lang-cac10f30.js";const V=e=>(_("data-v-b60ca3b9"),e=e(),v(),e),j={class:"login"},k=V((()=>u("div",{class:"login-left"},[u("img",{class:"login-img",src:"/gi-demo/static/svg/login-img-1c12ae60.svg"})],-1))),z={class:"login-right"},q=V((()=>u("h3",{class:"login-form-title"},[u("img",{class:"logo",src:w}),u("span",null,"Admin Pro")],-1))),C=y(e({name:"Login",__name:"index",setup(e){const _=a(),v=s(),w=l({username:"admin",password:"123456"}),y={username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{match:b,message:"输入密码格式不正确"}]},V=t(!1),{loading:C,setLoading:L}=x(),U=t(""),P=t(),R=async()=>{var e;try{if(await(null==(e=P.value)?void 0:e.validate()))return;L(!0),await v.login(w);const{redirect:a,...s}=_.currentRoute.value.query;_.push({path:a||"/",query:{...s}}),f.success("登录成功")}catch(a){U.value=a.message}finally{L(!1)}};return(e,a)=>{const s=o("a-col"),l=o("icon-user"),t=o("a-input"),f=o("a-form-item"),_=o("icon-lock"),v=o("a-input-password"),x=o("a-checkbox"),b=o("a-link"),L=o("a-row"),U=o("a-button"),S=o("a-space"),A=o("a-form"),B=g;return d(),r("div",j,[i(L,{align:"stretch",class:"login-box"},{default:n((()=>[i(s,{xs:0,sm:12,md:15},{default:n((()=>[k])),_:1}),i(s,{xs:24,sm:12,md:9},{default:n((()=>[u("div",z,[i(A,{ref_key:"FormRef",ref:P,size:"medium",model:m(w),rules:y,style:{width:"84%"},"label-col-style":{display:"none"},"wrapper-col-style":{flex:1}},{default:n((()=>[q,i(f,{field:"username"},{default:n((()=>[i(t,{modelValue:m(w).username,"onUpdate:modelValue":a[0]||(a[0]=e=>m(w).username=e),placeholder:"账号 admin/user","allow-clear":""},{prefix:n((()=>[i(l,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),i(f,{field:"password"},{default:n((()=>[i(v,{modelValue:m(w).password,"onUpdate:modelValue":a[1]||(a[1]=e=>m(w).password=e),placeholder:"密码","allow-clear":""},{prefix:n((()=>[i(_,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),i(f,null,{default:n((()=>[i(L,{justify:"space-between",align:"center",class:"w-100"},{default:n((()=>[i(x,{modelValue:m(V),"onUpdate:modelValue":a[2]||(a[2]=e=>c(V)?V.value=e:null)},{default:n((()=>[p("记住密码")])),_:1},8,["modelValue"]),i(b,null,{default:n((()=>[p("忘记密码")])),_:1})])),_:1})])),_:1}),i(f,null,{default:n((()=>[i(S,{direction:"vertical",fill:"",class:"w-100"},{default:n((()=>[i(U,{type:"primary",size:"large",long:"",loading:m(C),onClick:R},{default:n((()=>[p("登录")])),_:1},8,["loading"]),i(U,{type:"text",size:"large",long:"",class:"register-btn"},{default:n((()=>[p("注册账号")])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1})])),_:1}),i(B,{class:"theme-btn"}),i(h)])}}}),[["__scopeId","data-v-b60ca3b9"]]);export{C as default};
