import{O as e,a}from"./regexp-2217f7b7.js";import{d as l,r as t,B as s,f as o,o as d,t as u,w as n,g as i,i as r,l as m,z as p,c,F as f,x as v,h as _,y as h,k as g,M as x,p as b,n as w,s as y}from"./index-e52c4d6b.js";import{u as k}from"./useForm-aa6017f5.js";const V=e=>(b("data-v-70ca5923"),e=e(),w(),e),j=V((()=>_("div",null,"仅支持中文姓名",-1))),U=V((()=>_("span",null,"权限配置",-1))),q=V((()=>_("span",null,"自定义管理员、编辑者的权限， 点击",-1))),F=y(l({__name:"EditModal",setup(l,{expose:b}){const{form:w}=k({id:"",name:"",phone:"",status:!1}),y={name:[{required:!0,message:"请输入姓名"},{match:e,message:"只能是中文姓名"},{minLength:1,maxLength:4,message:"名字最长不超过4个字符"}],phone:[{match:a,message:"手机号格式不正确"}],status:[{required:!0}]},V=[{name:"新增"},{name:"编辑"},{name:"重命名"},{name:"分享"},{name:"删除"}],F=t(!1),z=s((()=>!!w.id)),C=s((()=>z.value?"编辑":"新增")),E=t(),L=async()=>{var e;return!(await(null==(e=E.value)?void 0:e.validate()))&&(await new Promise((e=>setTimeout(e,1500))),x.success(z.value?"编辑成功":"新增成功"),!0)};return b({add:()=>{w.id="",F.value=!0},edit:e=>{w.id=e,F.value=!0}}),(e,a)=>{var l;const t=o("a-input"),s=o("a-form-item"),x=o("a-radio"),b=o("a-radio-group"),k=o("a-form"),z=o("a-row"),M=o("icon-question-circle-fill"),B=o("a-link"),I=o("a-tooltip"),N=o("a-space"),O=o("icon-right"),P=o("a-checkbox"),R=o("a-checkbox-group"),T=o("a-collapse-item"),W=o("a-collapse"),A=o("a-modal");return d(),u(A,{visible:r(F),"onUpdate:visible":a[3]||(a[3]=e=>g(F)?F.value=e:null),title:r(C),width:"90%","modal-style":{maxWidth:"520px"},"on-before-ok":L,onClose:null==(l=r(E))?void 0:l.resetFields},{default:n((()=>[i(z,{justify:"center"},{default:n((()=>[i(k,{ref_key:"formRef",ref:E,model:r(w),rules:y,size:"medium","auto-label-width":"",style:{width:"380px"}},{default:n((()=>[i(s,{field:"name",label:"姓名"},{extra:n((()=>[j])),default:n((()=>[i(t,{modelValue:r(w).name,"onUpdate:modelValue":a[0]||(a[0]=e=>r(w).name=e),placeholder:"请输入姓名","allow-clear":""},null,8,["modelValue"])])),_:1}),i(s,{field:"phone",label:"手机号"},{default:n((()=>[i(t,{modelValue:r(w).phone,"onUpdate:modelValue":a[1]||(a[1]=e=>r(w).phone=e),placeholder:"请输入手机号","allow-clear":""},null,8,["modelValue"])])),_:1}),i(s,{field:"status",label:"状态"},{default:n((()=>[i(b,{modelValue:r(w).status,"onUpdate:modelValue":a[2]||(a[2]=e=>r(w).status=e)},{default:n((()=>[i(x,{value:!1},{default:n((()=>[m("关闭")])),_:1}),i(x,{value:!0},{default:n((()=>[m("开启")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1}),i(W,{bordered:!1,"default-active-key":["1"]},{default:n((()=>[i(T,{"show-expand-icon":!0,key:"1"},{header:n((()=>[i(N,null,{default:n((()=>[U,i(I,{position:"right","content-style":{width:"200px"}},{content:n((()=>[q,i(B,{type:"primary",hoverable:!1},{default:n((()=>[m("了解更多权限")])),_:1})])),default:n((()=>[i(M,{style:{color:"rgb(var(--warning-6))"}})])),_:1})])),_:1})])),"expand-icon":n((({active:e})=>[i(O,{class:p({gi_rotate_90deg:e})},null,8,["class"])])),default:n((()=>[(d(),c(f,null,v(V,((e,a)=>i(z,{justify:"space-between",key:a},{default:n((()=>[_("span",null,h(e.name),1),i(R,null,{default:n((()=>[i(P,{value:"1"},{default:n((()=>[m("管理员")])),_:1}),i(P,{value:"2"},{default:n((()=>[m("编辑者")])),_:1})])),_:1})])),_:2},1024))),64))])),_:1})])),_:1})])),_:1},8,["visible","title","onClose"])}}}),[["__scopeId","data-v-70ca5923"]]);export{F as default};
