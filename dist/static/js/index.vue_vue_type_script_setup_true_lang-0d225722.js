import{d as e,r as a,f as l,o as t,t as i,w as n,g as o,i as s,l as d,y as r,R as c,k as u,h as p,M as m}from"./index-b12aafb3.js";import{f as _,h as f}from"./index-7dab621d.js";import{u as v}from"./useTable-b7ee0dde.js";import{_ as y}from"./AddDictDataModal.vue_vue_type_script_setup_true_lang-bbb5ab89.js";const g=p("span",null,"新增",-1),h=p("span",null,"删除",-1),k=p("span",null,"编辑",-1),w=p("span",null,"删除",-1),x=e({__name:"index",setup(e,{expose:p}){const x=a(!1),b=a(),z=a("");p({open:e=>{D.value=[],z.value=e.code,x.value=!0,S()}});const{loading:A,tableData:D,pagination:j,selectedKeys:C,search:S,select:M,selectAll:B,handleDelete:O}=v((e=>_({current:e.page,pageSize:e.size,code:z.value})),{immediate:!1}),R=()=>{if(!C.value.length)return m.warning("请选择字典数据！");O((()=>f({ids:C.value,code:z.value})))},W=()=>{var e;null==(e=b.value)||e.add()};return(e,a)=>{const p=l("icon-plus"),m=l("a-button"),_=l("icon-delete"),v=l("a-space"),S=l("a-row"),I=l("a-table-column"),K=l("a-tag"),L=l("icon-edit"),T=l("a-popconfirm"),U=l("a-table"),q=l("a-modal");return t(),i(q,{visible:s(x),"onUpdate:visible":a[0]||(a[0]=e=>u(x)?x.value=e:null),title:"字典数据",width:"90%","hide-cancel":"","ok-text":"关闭","mask-closable":!1,"modal-style":{maxWidth:"680px"}},{default:n((()=>[o(S,null,{default:n((()=>[o(v,{wrap:""},{default:n((()=>[o(m,{type:"primary",onClick:W},{icon:n((()=>[o(p)])),default:n((()=>[g])),_:1}),o(m,{type:"primary",status:"danger",onClick:R},{icon:n((()=>[o(_)])),default:n((()=>[h])),_:1})])),_:1})])),_:1}),o(U,{"row-key":"id",size:"small",data:s(D),bordered:{cell:!0},loading:s(A),scroll:{x:"100%",y:"100%",minWidth:400},pagination:{...s(j),size:"small"},"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":s(C),onSelect:s(M),onSelectAll:s(B)},{columns:n((()=>[o(I,{title:"序号",width:64},{cell:n((e=>[d(r(e.rowIndex+1),1)])),_:1}),o(I,{title:"字典名","data-index":"name"}),o(I,{title:"字典值","data-index":"value"}),o(I,{title:"状态",width:100,align:"center"},{cell:n((({record:e})=>[1==e.status?(t(),i(K,{key:0,color:"green"},{default:n((()=>[d("启用")])),_:1})):c("",!0),0==e.status?(t(),i(K,{key:1,color:"red"},{default:n((()=>[d("禁用")])),_:1})):c("",!0)])),_:1}),o(I,{title:"操作",width:180,align:"center"},{cell:n((({record:e})=>[o(v,null,{default:n((()=>[o(m,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=b.value)||t.edit({id:l.id,code:z.value}));var l,t}},{icon:n((()=>[o(L)])),default:n((()=>[k])),_:2},1032,["onClick"]),o(T,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:a=>{return l=e,O((()=>f({ids:[l.id],code:z.value})),{showModal:!1});var l}},{default:n((()=>[o(m,{type:"primary",status:"danger",size:"mini"},{icon:n((()=>[o(_)])),default:n((()=>[w])),_:1})])),_:2},1032,["onBeforeOk"])])),_:2},1024)])),_:1})])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),o(y,{ref_key:"AddDictDataModalRef",ref:b},null,512)])),_:1},8,["visible"])}}});export{x as _};
