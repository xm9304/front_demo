import{O as e,a}from"./regexp-53006fbc.js";import{r as l,X as t,d as s,e as o,B as d,f as n,o as u,t as i,w as r,g as m,i as f,l as c,z as p,c as v,F as _,x as h,h as b,y as g,k as x,M as w,p as y,n as k,s as V}from"./index-d04687e4.js";const j=e=>(y("data-v-bf4799e6"),e=e(),k(),e),F=j((()=>b("div",null,"仅支持中文姓名",-1))),U=j((()=>b("span",null,"权限配置",-1))),q=j((()=>b("span",null,"自定义管理员、编辑者的权限， 点击",-1))),C=V(s({__name:"EditModal",setup(s,{expose:y}){const{form:k,resetForm:V}=function(e){const a=()=>t.cloneDeep(e),s=l(a());return{form:s,resetForm:()=>{Object.assign(s,a())}}}({id:"",name:"",phone:"",status:!1}),j={name:[{required:!0,message:"请输入姓名"},{match:e,message:"只能是中文姓名"},{minLength:1,maxLength:4,message:"名字最长不超过4个字符"}],phone:[{match:a,message:"手机号格式不正确"}],status:[{required:!0}]},C=[{name:"新增"},{name:"编辑"},{name:"重命名"},{name:"分享"},{name:"删除"}],z=o(!1),L=d((()=>!!k.id)),M=d((()=>L.value?"编辑":"新增")),O=o(),B=async()=>{var e;return!(await(null==(e=O.value)?void 0:e.validate()))&&(await new Promise((e=>setTimeout(e,1500))),w.success(L.value?"编辑成功":"新增成功"),!0)};return y({add:()=>{k.id="",z.value=!0},edit:e=>{k.id=e,z.value=!0}}),(e,a)=>{var l;const t=n("a-input"),s=n("a-form-item"),o=n("a-radio"),d=n("a-radio-group"),w=n("a-form"),y=n("a-row"),V=n("icon-question-circle-fill"),L=n("a-link"),D=n("a-tooltip"),E=n("a-space"),I=n("icon-right"),P=n("a-checkbox"),R=n("a-checkbox-group"),T=n("a-collapse-item"),W=n("a-collapse"),X=n("a-modal");return u(),i(X,{visible:f(z),"onUpdate:visible":a[3]||(a[3]=e=>x(z)?z.value=e:null),title:f(M),width:"90%","modal-style":{maxWidth:"520px"},"on-before-ok":B,onClose:null==(l=f(O))?void 0:l.resetFields},{default:r((()=>[m(y,{justify:"center"},{default:r((()=>[m(w,{ref_key:"formRef",ref:O,model:f(k),rules:j,size:"medium","auto-label-width":"",style:{width:"380px"}},{default:r((()=>[m(s,{field:"name",label:"姓名"},{extra:r((()=>[F])),default:r((()=>[m(t,{modelValue:f(k).name,"onUpdate:modelValue":a[0]||(a[0]=e=>f(k).name=e),placeholder:"请输入姓名","allow-clear":""},null,8,["modelValue"])])),_:1}),m(s,{field:"phone",label:"手机号"},{default:r((()=>[m(t,{modelValue:f(k).phone,"onUpdate:modelValue":a[1]||(a[1]=e=>f(k).phone=e),placeholder:"请输入手机号","allow-clear":""},null,8,["modelValue"])])),_:1}),m(s,{field:"status",label:"状态"},{default:r((()=>[m(d,{modelValue:f(k).status,"onUpdate:modelValue":a[2]||(a[2]=e=>f(k).status=e)},{default:r((()=>[m(o,{value:!1},{default:r((()=>[c("关闭")])),_:1}),m(o,{value:!0},{default:r((()=>[c("开启")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1}),m(W,{bordered:!1,"default-active-key":["1"]},{default:r((()=>[m(T,{"show-expand-icon":!0,key:"1"},{header:r((()=>[m(E,null,{default:r((()=>[U,m(D,{position:"right","content-style":{width:"200px"}},{content:r((()=>[q,m(L,{type:"primary",hoverable:!1},{default:r((()=>[c("了解更多权限")])),_:1})])),default:r((()=>[m(V,{style:{color:"rgb(var(--warning-6))"}})])),_:1})])),_:1})])),"expand-icon":r((({active:e})=>[m(I,{class:p({gi_rotate_90deg:e})},null,8,["class"])])),default:r((()=>[(u(),v(_,null,h(C,((e,a)=>m(y,{justify:"space-between",key:a},{default:r((()=>[b("span",null,g(e.name),1),m(R,null,{default:r((()=>[m(P,{value:"1"},{default:r((()=>[c("管理员")])),_:1}),m(P,{value:"2"},{default:r((()=>[c("编辑者")])),_:1})])),_:1})])),_:2},1024))),64))])),_:1})])),_:1})])),_:1},8,["visible","title","onClose"])}}}),[["__scopeId","data-v-bf4799e6"]]);export{C as default};
