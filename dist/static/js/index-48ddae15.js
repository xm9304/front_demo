import{d as e,a,b as s,r as l,e as t,f as o,c as r,g as i,h as n,w as d,i as u,o as m,j as c,k as p,p as g,l as f,_,M as v,m as w,n as y}from"./index-b0b495b4.js";import{u as h}from"./useLoading-b5d47196.js";import x from"./index-0d2f7515.js";import{P as V}from"./regexp-53006fbc.js";import"./CornerTop.vue_vue_type_script_setup_true_lang-cbcb2fa9.js";import"./CornerBottom.vue_vue_type_script_setup_true_lang-0dde1af8.js";const b=e=>(g("data-v-42265ed0"),e=e(),f(),e),j={class:"login"},k={class:"login-box"},z=b((()=>i("div",{class:"login-left"},[i("img",{class:"login-img",src:"/gi-demo/static/svg/login-img-1c12ae60.svg"})],-1))),q={class:"login-right"},C=b((()=>i("h3",{class:"login-form-title"},[i("img",{class:"logo",src:_}),i("span",null,"Admin Pro")],-1))),L=y(e({name:"Login",__name:"index",setup(e){const g=a(),f=s(),_=l({username:"admin",password:"123456"}),y={username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{match:V,message:"输入密码格式不正确"}]},b=t(!1),{loading:L,setLoading:U}=h(),P=t(""),R=t(),S=async()=>{var e;try{if(await(null==(e=R.value)?void 0:e.validate()))return;U(!0),await f.login(_);const{redirect:a,...s}=g.currentRoute.value.query;g.push({path:a||"/",query:{...s}}),v.success("登录成功")}catch(a){P.value=a.message}finally{U(!1)}};return(e,a)=>{const s=o("icon-user"),l=o("a-input"),t=o("a-form-item"),g=o("icon-lock"),f=o("a-input-password"),v=o("a-checkbox"),h=o("a-link"),V=o("a-row"),U=o("a-button"),P=o("a-space"),A=o("a-form"),B=w;return m(),r("div",j,[i("section",k,[z,i("div",q,[n(A,{ref_key:"FormRef",ref:R,size:"medium",model:u(_),rules:y,style:{width:"84%"},"label-col-style":{display:"none"},"wrapper-col-style":{flex:1}},{default:d((()=>[C,n(t,{field:"username"},{default:d((()=>[n(l,{modelValue:u(_).username,"onUpdate:modelValue":a[0]||(a[0]=e=>u(_).username=e),placeholder:"账号 admin/user","allow-clear":""},{prefix:d((()=>[n(s,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),n(t,{field:"password"},{default:d((()=>[n(f,{modelValue:u(_).password,"onUpdate:modelValue":a[1]||(a[1]=e=>u(_).password=e),placeholder:"密码","allow-clear":""},{prefix:d((()=>[n(g,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),n(t,null,{default:d((()=>[n(V,{justify:"space-between",align:"center",class:"w-100"},{default:d((()=>[n(v,{modelValue:u(b),"onUpdate:modelValue":a[2]||(a[2]=e=>c(b)?b.value=e:null)},{default:d((()=>[p("记住密码")])),_:1},8,["modelValue"]),n(h,null,{default:d((()=>[p("忘记密码")])),_:1})])),_:1})])),_:1}),n(t,null,{default:d((()=>[n(P,{direction:"vertical",fill:"",class:"w-100"},{default:d((()=>[n(U,{type:"primary",size:"large",long:"",loading:u(L),onClick:S},{default:d((()=>[p("登录")])),_:1},8,["loading"]),n(U,{type:"text",size:"large",long:"",class:"register-btn"},{default:d((()=>[p("注册账号")])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])]),n(B,{class:"theme-btn"}),n(x)])}}}),[["__scopeId","data-v-42265ed0"]]);export{L as default};
