import{d as e,f as a,o as t,s as l,w as n,g as i,c as s,F as o,v as d,l as r,x as p,O as u,r as c,e as m,i as _,k as f,h as g,N as y,p as x,m as b,q as h}from"./index-615da61f.js";import{_ as v}from"./index.vue_vue_type_script_setup_true_lang-1483b9cb.js";import{u as w}from"./usePagination-7dd46c3e.js";import{g as z}from"./index-92b4d41b.js";const k=e({name:"GiOverFlowTags",__name:"index",props:{data:{default:()=>[]}},setup:e=>(e,c)=>{const m=a("a-tag"),_=a("a-space"),f=a("a-popover"),g=a("a-overflow-list");return e.data.length?(t(),l(g,{key:0},{overflow:n((({number:a})=>[i(f,{"content-style":{maxWidth:"300px",padding:"8px 12px"}},{content:n((()=>[i(_,{wrap:""},{default:n((()=>[(t(!0),s(o,null,d(e.data.filter(((t,l)=>l>=e.data.length-a)),(e=>(t(),l(m,{color:"orange",size:"small"},{default:n((()=>[r(p(e),1)])),_:2},1024)))),256))])),_:2},1024)])),default:n((()=>[i(m,{color:"green",size:"small"},{default:n((()=>[r("+"+p(a),1)])),_:2},1024)])),_:2},1024)])),default:n((()=>[(t(!0),s(o,null,d(e.data,((e,a)=>(t(),l(m,{key:a,color:"orange",size:"small"},{default:n((()=>[r(p(e),1)])),_:2},1024)))),128))])),_:1})):u("",!0)}}),T=e=>(x("data-v-85010105"),e=e(),b(),e),j={class:"table-page"},I={class:"gi_table_box"},S=T((()=>g("span",null,"编辑",-1))),V=T((()=>g("span",null,"详情",-1))),F=T((()=>g("span",null,"删除",-1))),O=h(e({name:"TableBase",__name:"index",setup(e){const o=c({}),d={xs:24,sm:12,md:12,lg:8,xl:8,xxl:6},u=c({form:{layout:"inline"},btns:{col:d},fold:{enable:!0,index:2},columns:[{type:"input",label:"姓名",field:"name",col:d},{type:"input",label:"手机",field:"phone",col:d,props:{maxLength:11}},{type:"select",label:"类型",field:"type",col:d,options:[{label:"党员",value:1},{label:"群众",value:2}]},{type:"date-picker",label:"创建日期",field:"createTime",col:d},{type:"input",label:"地址",field:"address",col:d}]}),x=m(!1),b=m([]),{pagination:h,setTotal:T}=w((()=>O())),O=async()=>{try{x.value=!0;const e=await z({current:h.current,pageSize:h.pageSize});b.value=e.data.list,T(e.data.total)}catch(e){}finally{x.value=!1}};O();const W=()=>{h.current=1,O()};return(e,d)=>{const c=v,m=a("a-table-column"),w=a("a-avatar"),z=k,T=a("a-typography-text"),O=a("a-button"),q=a("a-popconfirm"),B=a("a-space"),C=a("a-table");return t(),s("div",j,[i(c,{options:_(u),modelValue:_(o),"onUpdate:modelValue":d[0]||(d[0]=e=>f(o)?o.value=e:null),onSearch:W},null,8,["options","modelValue"]),g("div",I,[i(C,{"row-key":"id",size:"small","page-position":"bottom",bordered:{cell:!0},loading:_(x),data:_(b),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:_(h)},{columns:n((()=>[i(m,{title:"序号",width:66,align:"center"},{cell:n((e=>[r(p(e.rowIndex+1),1)])),_:1}),i(m,{title:"姓名","data-index":"name",width:120}),i(m,{title:"头像",width:80},{cell:n((({record:e})=>[i(w,{size:30,style:y({backgroundColor:e.color})},{default:n((()=>[r(p(e.name[0]),1)])),_:2},1032,["style"])])),_:1}),i(m,{title:"手机号","data-index":"phone",width:150}),i(m,{title:"爱好","data-index":"hobbys"},{cell:n((({record:e})=>[i(z,{data:e.hobbys},null,8,["data"])])),_:1}),i(m,{title:"创建时间","data-index":"createTime",ellipsis:"",tooltip:""}),i(m,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),i(m,{title:"状态",width:100,align:"center"},{cell:n((({record:e})=>[e.status?(t(),l(T,{key:0,type:"success"},{default:n((()=>[r("开启")])),_:1})):(t(),l(T,{key:1,type:"danger"},{default:n((()=>[r("关闭")])),_:1}))])),_:1}),i(m,{title:"操作",width:200,align:"center"},{cell:n((({record:e})=>[i(B,null,{default:n((()=>[i(O,{type:"primary",size:"mini"},{default:n((()=>[S])),_:1}),i(O,{size:"mini"},{default:n((()=>[V])),_:1}),i(q,{type:"warning",content:"您确定要删除该项吗?"},{default:n((()=>[i(O,{type:"primary",status:"danger",size:"mini"},{default:n((()=>[F])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["loading","data","pagination"])])])}}}),[["__scopeId","data-v-85010105"]]);export{O as default};
