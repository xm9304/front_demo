import{d as e,e as a,z as s,f as l,o as t,q as n,w as c,h as i,i as o,j as d,K as r,M as u}from"./index-807660a1.js";import{h as k,i as v}from"./index-140db24b.js";const m=e({__name:"PermModal",setup(e,{expose:m}){const f=a(),p=a([]);(async()=>{try{const e=await k();p.value=e.data,r((()=>{var e;null==(e=f.value)||e.expandAll()}))}finally{}})();const y=a(!1),h=a([]);m({open:e=>{h.value=[],v({role:e.code}).then((e=>{h.value=e.data})),y.value=!0}});const b=s((()=>"分配权限")),x=()=>{u.success("模拟保存成功")};return(e,a)=>{const s=l("a-tree"),r=l("a-modal");return t(),n(r,{visible:o(y),"onUpdate:visible":a[1]||(a[1]=e=>d(y)?y.value=e:null),title:o(b),"mask-closable":!0,onOk:x},{default:c((()=>[i(s,{ref_key:"TreeRef",ref:f,size:"mini",checkable:"","check-strictly":!0,"checked-keys":o(h),"onUpdate:checkedKeys":a[0]||(a[0]=e=>d(h)?h.value=e:null),data:o(p),fieldNames:{key:"id"}},null,8,["checked-keys","data"])])),_:1},8,["visible","title"])}}});export{m as _};
