import{d as e,a,r as t,e as l,R as i,f as n,o,c as s,i as r,j as d,s as c,w as u,g as p,O as m,h as _,l as f,F as g,v as y,x as v,S as h,M as k}from"./index-23d9b7d3.js";import{u as w}from"./usePagination-dd3be35d.js";import x from"./index-a22e62aa.js";import C from"./EditModal-524c7bae.js";import{g as b}from"./index-328b1f09.js";import{S as j}from"./person-ff3306fc.js";const z={class:"data-pane"},S={class:"content"},V={class:"gi_table_box",style:{"padding-top":"8px"}},O=e({__name:"Pane1",setup(e){const O=a(),{pagination:E,setTotal:M}=w((()=>R())),A=t({name:"",status:""}),F=l([]),P=l(!1),R=async()=>{try{P.value=!0;const e=await b({...A,current:E.current,pageSize:E.pageSize});F.value=e.data.list,M(e.data.total)}catch(e){}finally{P.value=!1}};i((()=>{R()}));const T=()=>{h.warning({title:"提示",content:"是否确认删除？",hideCancel:!1,onOk:()=>{F.value=[]}})},U=l(),q=()=>{var e;null==(e=U.value)||e.add()},G=()=>{if(!I.value.length)return k.warning("请勾选数据");k.success("点击了导出")},I=l([]),N=e=>{I.value=e},W=e=>{I.value=e?F.value.map((e=>e.id)):[]};return(e,a)=>{const t=n("a-card"),l=n("icon-plus"),i=n("a-button"),h=n("icon-delete"),w=n("icon-export"),b=n("a-space"),M=n("a-option"),I=n("a-select"),B=n("a-input"),D=n("icon-search"),H=n("a-input-group"),J=n("icon-refresh"),K=n("a-row"),L=n("a-table-column"),Q=n("a-progress"),X=n("a-tag"),Y=n("a-popconfirm"),Z=n("a-table");return o(),s("div",z,[r(d)()?m("",!0):(o(),c(t,{key:0,title:"数据分类",bordered:!1,class:"gi_card pane-left"},{default:u((()=>[p(x,{placeholder:"请输入搜索关键词",onNodeClick:a[0]||(a[0]=e=>r(E).onChange(1))})])),_:1})),p(t,{title:"数据列表",bordered:!1,"header-style":{display:"none"},class:"gi_card pane-right"},{default:u((()=>[_("div",S,[p(K,{justify:"space-between"},{default:u((()=>[p(b,{wrap:""},{default:u((()=>[p(i,{type:"primary",onClick:q},{icon:u((()=>[p(l)])),_:1}),p(i,{type:"primary",status:"danger",onClick:T},{icon:u((()=>[p(h)])),default:u((()=>[f("删除")])),_:1}),p(i,{type:"primary",status:"success",onClick:G},{icon:u((()=>[p(w)])),_:1})])),_:1}),p(b,null,{default:u((()=>[p(I,{modelValue:r(A).status,"onUpdate:modelValue":a[1]||(a[1]=e=>r(A).status=e),class:"gi_select_input",placeholder:"请选择","allow-clear":""},{default:u((()=>[(o(!0),s(g,null,y(r(j),(e=>(o(),c(M,{key:e.value,value:e.value},{default:u((()=>[f(v(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),p(H,null,{default:u((()=>[p(B,{modelValue:r(A).name,"onUpdate:modelValue":a[2]||(a[2]=e=>r(A).name=e),placeholder:"请输入搜索关键词","allow-clear":""},null,8,["modelValue"]),p(i,{type:"primary",onClick:R},{default:u((()=>[p(D)])),_:1})])),_:1}),p(i,{type:"primary",onClick:R},{icon:u((()=>[p(J)])),_:1})])),_:1})])),_:1}),_("section",V,[p(Z,{"row-key":"id",size:"small",loading:r(P),bordered:{cell:!0},data:r(F),scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:r(E),onSelect:N,onSelectAll:W},{columns:u((()=>[p(L,{title:"序号",width:68},{cell:u((e=>[f(v(e.rowIndex+1),1)])),_:1}),p(L,{title:"姓名","data-index":"name"}),p(L,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),p(L,{title:"比例",width:200},{cell:u((({record:e})=>{return[p(Q,{status:(a=e.proportion,a<30?"danger":a<60?"warning":"success"),percent:e.proportion/100},null,8,["status","percent"])];var a})),_:1}),p(L,{title:"状态",width:100,align:"center"},{cell:u((({record:e})=>[(o(!0),s(g,null,y(r(j),(a=>(o(),s(g,{key:a.value},[a.value===e.status?(o(),c(X,{key:0,size:"small",color:a.color},{default:u((()=>[f(v(a.name),1)])),_:2},1032,["color"])):m("",!0)],64)))),128))])),_:1}),p(L,{title:"创建时间","data-index":"createTime",width:180}),p(L,{title:"操作",width:200,align:"center",fixed:"right"},{cell:u((({record:e})=>[p(b,null,{default:u((()=>[p(i,{type:"primary",size:"mini",onClick:a=>{return t=e,void(null==(l=U.value)||l.edit(t.id));var t,l}},{default:u((()=>[f("修改")])),_:2},1032,["onClick"]),p(i,{size:"mini",onClick:a=>{return t=e,void O.push({path:"/data/detail",query:{id:t.id}});var t}},{default:u((()=>[f("详情")])),_:2},1032,["onClick"]),p(Y,{type:"warning",content:"您确定要删除该项吗?",onOk:a=>(e.id,k.success("删除成功"),void R())},{default:u((()=>[p(i,{type:"primary",status:"danger",size:"mini"},{default:u((()=>[f("删除")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:1})])),_:1},8,["loading","data","pagination"])])])])),_:1}),p(C,{ref_key:"EditModalRef",ref:U},null,512)])}}});export{O as _};
