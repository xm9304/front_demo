import{d as e,e as a,r as t,f as l,o as i,c as n,g as o,w as s,i as d,l as r,y as u,t as c,P as p,j as _,h as m,M as f}from"./index-2c28a4d6.js";import{u as y}from"./useTable-531e0e56.js";import{i as g,j as k}from"./index-ac2d23dd.js";import{_ as v}from"./AddDictModal.vue_vue_type_script_setup_true_lang-95a0a07f.js";import{_ as h}from"./index.vue_vue_type_script_setup_true_lang-597b60af.js";import"./usePagination-29d9e82c.js";import"./regexp-2217f7b7.js";import"./AddDictDataModal.vue_vue_type_script_setup_true_lang-c9c38f0b.js";const w={class:"gi_page dict-manage"},x=m("span",null,"查询",-1),j=m("span",null,"重置",-1),C=m("span",null,"新增",-1),D=m("span",null,"删除",-1),b=m("span",null,"字典数据",-1),A=m("span",null,"编辑",-1),M=m("span",null,"删除",-1),S=e({name:"SystemRole",__name:"index",setup(e){const m=a(),S=a(),V=t({name:"",status:""}),{loading:z,tableData:O,pagination:R,selectedKeys:B,search:P,select:T,selectAll:U,handleDelete:G}=y((e=>g({current:e.page,pageSize:e.size})),{immediate:!0}),I=()=>{V.status="",V.status="",P()},K=()=>{if(!B.value.length)return f.warning("请选择字典！");G((()=>k({ids:B.value})))},N=()=>{var e;null==(e=m.value)||e.add()};return(e,a)=>{const t=l("icon-search"),f=l("a-input"),y=l("a-option"),g=l("a-select"),W=l("a-button"),q=l("icon-refresh"),E=l("a-space"),F=l("icon-plus"),H=l("icon-delete"),J=l("a-row"),L=l("a-table-column"),Q=l("a-tag"),X=l("icon-storage"),Y=l("icon-edit"),Z=l("a-popconfirm"),$=l("a-table"),ee=l("a-card");return i(),n("div",w,[o(ee,{title:"字典管理"},{default:s((()=>[o(E,{wrap:""},{default:s((()=>[o(f,{modelValue:d(V).name,"onUpdate:modelValue":a[0]||(a[0]=e=>d(V).name=e),placeholder:"字典类型名称/编码","allow-clear":"",style:{width:"250px"}},{prefix:s((()=>[o(t)])),_:1},8,["modelValue"]),o(g,{modelValue:d(V).status,"onUpdate:modelValue":a[1]||(a[1]=e=>d(V).status=e),placeholder:"状态","allow-clear":"",style:{width:"120px"}},{default:s((()=>[o(y,{value:1},{default:s((()=>[r("正常")])),_:1}),o(y,{value:0},{default:s((()=>[r("禁用")])),_:1})])),_:1},8,["modelValue"]),o(W,{type:"primary",onClick:d(P)},{icon:s((()=>[o(t)])),default:s((()=>[x])),_:1},8,["onClick"]),o(W,{onClick:I},{icon:s((()=>[o(q)])),default:s((()=>[j])),_:1})])),_:1}),o(J,null,{default:s((()=>[o(E,{wrap:""},{default:s((()=>[o(W,{type:"primary",onClick:N},{icon:s((()=>[o(F)])),default:s((()=>[C])),_:1}),o(W,{type:"primary",status:"danger",onClick:K},{icon:s((()=>[o(H)])),default:s((()=>[D])),_:1})])),_:1})])),_:1}),o($,{style:{"margin-top":"8px"},"row-key":"id",data:d(O),bordered:{cell:!0},loading:d(z),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:d(R),"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":d(B),onSelect:d(T),onSelectAll:d(U)},{columns:s((()=>[o(L,{title:"序号",width:64},{cell:s((e=>[r(u(e.rowIndex+1),1)])),_:1}),o(L,{title:"字典名称","data-index":"name"}),o(L,{title:"字典编码","data-index":"code"}),o(L,{title:"状态",width:100,align:"center"},{cell:s((({record:e})=>[1==e.status?(i(),c(Q,{key:0,color:"green"},{default:s((()=>[r("正常")])),_:1})):p("",!0),0==e.status?(i(),c(Q,{key:1,color:"red"},{default:s((()=>[r("禁用")])),_:1})):p("",!0)])),_:1}),o(L,{title:"描述","data-index":"description"}),o(L,{title:"创建时间","data-index":"createTime",width:180}),o(L,{title:"操作",width:280,align:"center",fixed:d(_)()?void 0:"right"},{cell:s((({record:e})=>[o(E,null,{default:s((()=>[o(W,{type:"primary",status:"success",size:"mini",onClick:a=>{return t=e,void(null==(l=S.value)||l.open({code:t.code}));var t,l}},{icon:s((()=>[o(X)])),default:s((()=>[b])),_:2},1032,["onClick"]),o(W,{type:"primary",size:"mini",onClick:a=>{return t=e,void(null==(l=m.value)||l.edit(t.id));var t,l}},{icon:s((()=>[o(Y)])),default:s((()=>[A])),_:2},1032,["onClick"]),o(Z,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:a=>{return t=e,G((()=>k({ids:[t.id]})),{showModal:!1});var t}},{default:s((()=>[o(W,{type:"primary",status:"danger",size:"mini"},{icon:s((()=>[o(H)])),default:s((()=>[M])),_:1})])),_:2},1032,["onBeforeOk"])])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"])])),_:1}),o(v,{ref_key:"AddDictModalRef",ref:m},null,512),o(h,{ref_key:"DictDataModalRef",ref:S},null,512)])}}});export{S as default};
